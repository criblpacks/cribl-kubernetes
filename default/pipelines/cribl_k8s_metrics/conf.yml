output: default
streamtags: []
groups: {}
asyncFuncTimeout: 1000
functions:
  - id: comment
    filter: "true"
    disabled: null
    conf:
      comment: Process K8S metrics
  - id: comment
    filter: "true"
    disabled: null
    conf:
      comment: "DPM: Not sure how to make rename work on metrics (can it?)"
  - id: rename
    filter: "true"
    disabled: true
    conf:
      wildcardDepth: 5
      renameExpr: "name.startsWith('kube_') ? name.replaceAll('_', '.') : name"
      rename: []
      baseFields: []
    description: Rename metrics from snake_case to dot.notation
  - id: eval
    filter: "true"
    disabled: true
    conf:
      add:
        - disabled: false
          name: __criblMetrics[0].values
          value: "value.startsWith('kube_') ? value.replaceAll('_', '.') : value"
  - id: comment
    filter: "true"
    disabled: null
    conf:
      comment: The expressions work in Advanced Mode but the underscores remain
  - id: publish_metrics
    filter: "true"
    disabled: true
    conf:
      overwrite: true
      dimensions:
        - "!_*"
        - "!cribl*"
        - namespace
        - configmap
        - host
      removeMetrics: []
      removeDimensions: []
      fields:
        - metricType: counter
          inFieldName: kube_configmap_created
          outFieldExpr: kube.configmap.created
        - metricType: counter
          inFieldName: kube.configmap.info
          outFieldExpr: kube_configmap_info
        - metricType: counter
          inFieldName: kube.configmap.metadata.resource.version
          outFieldExpr: kube_configmap_metadata_resource_version
description: ""
